/* Additional text overlap fixes for sorting buttons */

/* Ensure text doesn't overlap in any scenario */
.sort-option-btn {
  /* Prevent any text overflow or wrapping issues */
  box-sizing: border-box !important;
  word-break: keep-all !important;
  hyphens: none !important;
  
  /* Ensure content stays within bounds */
  overflow: visible !important;
  text-overflow: clip !important;
  
  /* Force proper layout */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  
  /* Prevent text from getting cut off or overlapping */
  line-height: 1.1 !important;
  font-stretch: condensed !important;
}

/* Mobile text handling */
.sort-text-mobile {
  /* Prevent text from getting cut off */
  min-width: 0 !important;
  flex-shrink: 0 !important;
  display: inline-block !important;
  text-align: center !important;
  font-weight: 600 !important;
  letter-spacing: -0.025em !important;
  font-size: 0.6875rem !important;
  line-height: 1 !important;
  white-space: nowrap !important;
}

/* Desktop text handling */
.sort-text-desktop {
  min-width: 0 !important;
  flex-shrink: 0 !important;
  display: inline-block !important;
  text-align: center !important;
  font-weight: 500 !important;
  letter-spacing: 0.025em !important;
  line-height: 1.1 !important;
  white-space: nowrap !important;
}

/* Icon spacing */
.sort-icon {
  margin-right: 0.375rem !important;
  flex-shrink: 0 !important;
  display: inline-block !important;
  font-size: 0.75rem !important;
}

/* Specific button width adjustments for each option */
.sort-option-btn[title*="Departure"] {
  min-width: 75px !important;
  max-width: 75px !important;
}

.sort-option-btn[title*="Arrival"] {
  min-width: 85px !important;
  max-width: 85px !important;
}

.sort-option-btn[title*="Duration"] {
  min-width: 60px !important;
  max-width: 60px !important;
}

.sort-option-btn[title*="Price"] {
  min-width: 50px !important;
  max-width: 50px !important;
}

.sort-option-btn[title*="Rating"] {
  min-width: 55px !important;
  max-width: 55px !important;
}

/* Desktop specific widths */
@media (min-width: 640px) {
  .sort-option-btn[title*="Departure"] {
    min-width: 120px !important;
    max-width: 120px !important;
  }

  .sort-option-btn[title*="Arrival"] {
    min-width: 110px !important;
    max-width: 110px !important;
  }

  .sort-option-btn[title*="Duration"] {
    min-width: 115px !important;
    max-width: 115px !important;
  }

  .sort-option-btn[title*="Price"] {
    min-width: 90px !important;
    max-width: 90px !important;
  }

  .sort-option-btn[title*="Rating"] {
    min-width: 100px !important;
    max-width: 100px !important;
  }
  
  .sort-icon {
    margin-right: 0.5rem !important;
    font-size: 0.875rem !important;
  }
}

/* Container ensures proper spacing */
.sort-buttons-container {
  /* Prevent buttons from cramming together */
  min-width: 0 !important;
  flex: 1 !important;
  
  /* Handle overflow gracefully */
  overflow-x: auto !important;
  overflow-y: visible !important;
  
  /* Smooth scrolling on mobile */
  scroll-behavior: smooth !important;
  -webkit-overflow-scrolling: touch !important;
  
  /* Hide scrollbar but keep functionality */
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
  
  /* Better spacing between buttons */
  gap: 0.375rem !important;
  padding: 0 0.25rem !important;
}

@media (min-width: 640px) {
  .sort-buttons-container {
    gap: 0.5rem !important;
    overflow-x: visible !important;
    padding: 0 !important;
  }
}

.sort-buttons-container::-webkit-scrollbar {
  display: none !important;
}

/* Label spacing */
.sort-label {
  /* Ensure label doesn't get squished */
  flex-shrink: 0 !important;
  min-width: auto !important;
  margin-right: 0.75rem !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
}

@media (min-width: 640px) {
  .sort-label {
    margin-right: 1rem !important;
    font-size: 0.875rem !important;
  }
}

/* Direction toggle positioning */
.sort-direction-toggle {
  /* Ensure it doesn't overlap with buttons */
  margin-left: 0.75rem !important;
  flex-shrink: 0 !important;
}

/* Ultra-compact mode for very small screens */
@media (max-width: 360px) {
  .sort-label {
    font-size: 0.6875rem !important;
    margin-right: 0.5rem !important;
  }
  
  .sort-option-btn {
    padding: 0.375rem 0.5rem !important;
    font-size: 0.625rem !important;
    min-height: 34px !important;
  }
  
  .sort-option-btn[title*="Departure"] {
    min-width: 65px !important;
    max-width: 65px !important;
  }

  .sort-option-btn[title*="Arrival"] {
    min-width: 75px !important;
    max-width: 75px !important;
  }

  .sort-option-btn[title*="Duration"] {
    min-width: 55px !important;
    max-width: 55px !important;
  }

  .sort-option-btn[title*="Price"] {
    min-width: 45px !important;
    max-width: 45px !important;
  }

  .sort-option-btn[title*="Rating"] {
    min-width: 50px !important;
    max-width: 50px !important;
  }
  
  .sort-direction-toggle {
    width: 34px !important;
    height: 34px !important;
    margin-left: 0.5rem !important;
  }
  
  .sort-buttons-container {
    gap: 0.25rem !important;
    padding: 0 0.125rem !important;
  }
}

/* Fix any remaining overflow issues */
.bus-sort-controls {
  /* Ensure the entire container has enough space */
  min-height: 48px !important;
  padding: 0.25rem 0 !important;
}

/* Prevent icon and text collision */
.sort-option-btn .sort-icon + .sort-text-mobile,
.sort-option-btn .sort-icon + .sort-text-desktop {
  margin-left: 0 !important;
}

/* Special handling for buttons with both icon and text */
.sort-option-btn:has(.sort-icon) {
  justify-content: flex-start !important;
  padding-left: 0.75rem !important;
  padding-right: 0.75rem !important;
}

@media (min-width: 640px) {
  .sort-option-btn:has(.sort-icon) {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}