# Bootstrap configuration for Spring Cloud GCP
# Note: Secret Manager is DISABLED in all profiles to avoid native library crashes
# Secrets are passed via Cloud Run --set-secrets flag as environment variables

spring:
  application:
    name: perundhu-backend
  cloud:
    gcp:
      secretmanager:
        # Secret Manager is DISABLED to avoid netty-tcnative native library crashes
        # Use Cloud Run --set-secrets flag to inject secrets as environment variables
        enabled: false

---
# PreProd Profile - Secret Manager DISABLED
spring:
  config:
    activate:
      on-profile: preprod
  cloud:
    gcp:
      project-id: ${GCP_PROJECT_ID:astute-strategy-406601}
      secretmanager:
        enabled: false

---
# Production Profile - Secret Manager DISABLED (use Cloud Run secrets)
spring:
  config:
    activate:
      on-profile: production
  cloud:
    gcp:
      project-id: ${GCP_PROJECT_ID:astute-strategy-406601}
      secretmanager:
        enabled: false
